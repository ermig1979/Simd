<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>Simd Library Documentation.</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
</head>
<style>
  code {font-size:85%; color:black; background-color:#F8F8FF; border: 1px solid #E0E0F0; padding: 1px 1px; margin: 1px 2px 1px 2px;}
</style>
<body><table align="center" cellpadding="12" cellspacing="0" width="1024"><tr><td>
<center>
<img width="200" height="100" src="../logo.png">
<h1>Simd Library Documentation.</h1>
<a href="../index.html">Home</a> |
<a href="../2018.html">Release Notes</a> | 
<a href="../download.html">Download</a> | 
<a href="index.html">Documentation</a> | 
<a href="https://github.com/ermig1979/Simd/issues">Issues</a> | 
<a href="http://github.com/ermig1979/Simd" target="_top">GitHub</a> | 
<a href="http://sourceforge.net/projects/simd/?source=directory" target="_top">SourceForge</a>
</center> </td></tr> <tr><td>
<div id="top"> <div class="content" id="content"> <div class="container"> <div class="row"> 
 <div class="col-sm-12 panel " style="padding-bottom: 15px;"> <div style="margin-bottom: 15px;">
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Simd Library Overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="s0"></a>
Introduction</h1>
<p>The <b>Simd Library</b> is a free open source image processing library, designed for C and C++ programmers. It provides many useful high performance algorithms for image processing such as: pixel format conversion, image scaling and filtration, extraction of statistic information from images, motion detection, object detection (HAAR and LBP classifier cascades) and classification, neural network.</p>
<p>The algorithms are optimized with using of different SIMD CPU extensions. In particular the library supports following CPU extensions: SSE, SSE2, SSE3, SSSE3, SSE4.1, SSE4.2, AVX, AVX2 and AVX-512 for x86/x64, VMX(Altivec) and VSX(Power7) for PowerPC, NEON for ARM.</p>
<p>The Simd Library has C API and also contains useful C++ classes and functions to facilitate access to C API. The library supports dynamic and static linking, 32-bit and 64-bit Windows, Android and Linux, MSVS, G++ and Clang compilers, MSVS project and CMake build systems.</p>
<h1><a class="anchor" id="s1"></a>
Library folder's structure</h1>
<p>The Simd Library has next folder's structure:</p><ul>
<li><code>simd/src/Simd/</code> - contains source codes of the library.</li>
<li><code>simd/src/Test/</code> - contains test framework of the library.</li>
<li><code>simd/src/Use/</code> - contains the use examples of the library.</li>
<li><code>simd/prj/vs2012/</code> - contains project files of Microsoft Visual Studio 2012.</li>
<li><code>simd/prj/vs2013/</code> - contains project files of Microsoft Visual Studio 2013.</li>
<li><code>simd/prj/vs2015/</code> - contains project files of Microsoft Visual Studio 2015.</li>
<li><code>simd/prj/vs2017w/</code> - contains project files of Microsoft Visual Studio 2017 (for Windows).</li>
<li><code>simd/prj/vs2017a/</code> - contains project files of Microsoft Visual Studio 2017 (for Android).</li>
<li><code>simd/prj/cmd/</code> - contains additional scripts needed for building of the library in Windows.</li>
<li><code>simd/prj/cmake/</code> - contains files of CMake build systems.</li>
<li><code>simd/prj/sh/</code> - contains additional scripts needed for building of the library in Linux.</li>
<li><code>simd/prj/txt/</code> - contains text files needed for building of the library.</li>
<li><code>simd/data/cascade/</code> - contains OpenCV cascades (HAAR and LBP).</li>
<li><code>simd/data/image/</code> - contains image samples.</li>
<li><code>simd/data/network/</code> - contains examples of trained networks.</li>
<li><code>simd/docs/</code> - contains documentation of the library.</li>
</ul>
<h1><a class="anchor" id="s2"></a>
The library building for Windows</h1>
<p>To build the library and test application for Windows 32/64 you can use Microsoft Visual Studio 2015 (or 2012/2013/2017). These project files are in the directory: <br />
<code>simd/prj/vs2015/.</code> <br />
 By default the library is built as a DLL (Dynamic Linked Library). You also may build it as a static library. To do this you must change appropriate property (Configuration Type) of <b>Simd</b> project and also define macro <code>SIMD_STATIC</code> in file: <br />
<code>simd/src/Simd/SimdConfig.h.</code></p>
<h1><a class="anchor" id="s3"></a>
The library building for Android</h1>
<p>To build the library and test application for Android(x86, x64, ARM, ARM64) you need to use Microsoft Visual Studio 2017. The project files are in the directory: <code>simd/prj/vs2017a/</code> By default the library is built as a SO (Dynamic Library).</p>
<h1><a class="anchor" id="s4"></a>
The library building for Linux</h1>
<p>To build the library and test application for Linux 32/64 you need to use CMake build systems. Files of CMake build systems are placed in the directory: <code>simd/prj/cmake/.</code> The library can be built for x86/x64, PowerPC(64) and ARM(32/64) platforms with using of G++ or Clang compilers. With using of native compiler (g++) for current platform it is simple: </p><div class="fragment"><div class="line">cd ./prj/cmake</div><div class="line">cmake . -DTOOLCHAIN=<span class="stringliteral">&quot;&quot;</span> -DTARGET=<span class="stringliteral">&quot;&quot;</span></div><div class="line">make</div></div><!-- fragment --><p> To build the library for PowePC(64) and ARM(32/64) platforms you can also use toolchain for cross compilation. There is an example of using for PowerPC (64 bit): </p><div class="fragment"><div class="line">cd ./prj/cmake</div><div class="line">cmake . -DTOOLCHAIN=<span class="stringliteral">&quot;/your_toolchain/usr/bin/powerpc-linux-gnu-g++&quot;</span> -DTARGET=<span class="stringliteral">&quot;ppc64&quot;</span> -DCMAKE_BUILD_TYPE=<span class="stringliteral">&quot;Release&quot;</span> -DLIBRARY=<span class="stringliteral">&quot;STATIC&quot;</span></div><div class="line">make</div></div><!-- fragment --><p> For ARM (32 bit): </p><div class="fragment"><div class="line">cd ./prj/cmake</div><div class="line">cmake . -DTOOLCHAIN=<span class="stringliteral">&quot;/your_toolchain/usr/bin/arm-linux-gnueabihf-g++&quot;</span> -DTARGET=<span class="stringliteral">&quot;arm&quot;</span> -DCMAKE_BUILD_TYPE=<span class="stringliteral">&quot;Release&quot;</span> -DLIBRARY=<span class="stringliteral">&quot;STATIC&quot;</span></div><div class="line">make</div></div><!-- fragment --><p> And for ARM (64 bit): </p><div class="fragment"><div class="line">cd ./prj/cmake</div><div class="line">cmake . -DTOOLCHAIN=<span class="stringliteral">&quot;/your_toolchain/usr/bin/aarch64-linux-gnu-g++&quot;</span> -DTARGET=<span class="stringliteral">&quot;aarch64&quot;</span> -DCMAKE_BUILD_TYPE=<span class="stringliteral">&quot;Release&quot;</span> -DLIBRARY=<span class="stringliteral">&quot;STATIC&quot;</span></div><div class="line">make</div></div><!-- fragment --><p> As result the library and the test application will be built in the current directory.</p>
<h1><a class="anchor" id="s5"></a>
The library using</h1>
<p>If you use the library from C code you must include: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;Simd/SimdLib.h&quot;</span></div></div><!-- fragment --><p>And to use the library from C++ code you must include: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;Simd/SimdLib.hpp&quot;</span></div></div><!-- fragment --><p>In order to use <a class="el" href="struct_simd_1_1_detection.html" title="The Detection structure provides object detection with using of HAAR and LBP cascade classifiers...">Simd::Detection</a> you must include: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;Simd/SimdDetection.hpp&quot;</span></div></div><!-- fragment --><p>In order to use <a class="el" href="namespace_simd_1_1_neural.html" title="Contains Framework for learning of Convolutional Neural Network. ">Simd::Neural</a> framework you must include: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;Simd/SimdNeural.hpp&quot;</span></div></div><!-- fragment --><p>In order to use <a class="el" href="namespace_simd_1_1_motion.html" title="Contains Framework for motion detection. ">Simd::Motion</a> framework you must include: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;Simd/SimdMotion.hpp&quot;</span></div></div><!-- fragment --><h1><a class="anchor" id="s6"></a>
Interaction with OpenCV:</h1>
<p>If you need use mutual conversion between Simd and OpenCV types you just have to define macro <code>SIMD_OPENCV_ENABLE</code> before including of Simd headers: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;opencv2/core/core.hpp&gt;</span></div><div class="line"><span class="preprocessor">#define SIMD_OPENCV_ENABLE</span></div><div class="line"><span class="preprocessor">#include &quot;Simd/SimdLib.hpp&quot;</span></div></div><!-- fragment --><p> And you can convert next types:</p><ul>
<li><code>cv::Point</code>, <code>cv::Size</code> &lt;&ndash;&gt; <a class="el" href="struct_simd_1_1_point.html" title="The Point structure defines the x- and y-coordinates of a point. ">Simd::Point</a></li>
<li><code>cv::Rect</code> &lt;&ndash;&gt; <a class="el" href="struct_simd_1_1_rectangle.html" title="The Rectangle structure defines the positions of left, top, right and bottom sides of a rectangle...">Simd::Rectangle</a></li>
<li><code>cv::Mat</code> &lt;&ndash;&gt; <a class="el" href="struct_simd_1_1_view.html" title="The View structure provides storage and manipulation of images. ">Simd::View</a></li>
</ul>
<h1><a class="anchor" id="s7"></a>
Test Framework</h1>
<p>The test suite is needed for testing of correctness of work of the library and also for its performance testing. There is a set of tests for every function from API of the library. There is an example of test application using: </p><div class="fragment"><div class="line">./Test -m=a -t=1 -f=Sobel -ot=log.txt</div></div><!-- fragment --><p> Where next parameters were used:</p><ul>
<li><code>-m=a</code> - a auto checking mode which includes performance testing (only for library built in Release mode). In this case different implementations of each functions will be compared between themselves (for example a scalar implementation and implementations with using of different SIMD instructions such as SSE2, AVX2, and other). Also it can be -m=c (creation of test data for cross-platform testing), <code>-m=v</code> (cross-platform testing with using of early prepared test data) and <code>-m=s</code> (running of special tests).</li>
<li><code>-t=1</code> - a number of used threads (every thread runs all tests) for simulation of multi-thread loading.</li>
<li><code>-f=Sobel</code> - a filter. In current case will be tested only functions which contain word <code>Sobel</code> in their names. If you miss this parameter then full testing will be performed. You can use several filters - function name has to satisfy at least one of them.</li>
<li><code>-ot=log.txt</code> - a file name with test report (in TEXT file format). The test's report also will be output to console.</li>
</ul>
<p>Also you can use parameters:</p><ul>
<li><code>-help</code> or <code>-?</code> in order to print help message.</li>
<li><code>-r=../..</code> to set project root directory.</li>
<li><code>-pa=1</code> to print alignment statistics.</li>
<li><code>-w=1920</code> width of test image for performance testing.</li>
<li><code>-h=1080</code> height of test image for performance testing.</li>
<li><code>-oh=log.html</code> - a file name with test report (in HTML file format). </li>
</ul>
</div></div><!-- contents -->
<div id="nav-path" class="navpath">
  <ul>
    <li class="footer">Generated for Simd Library by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div></div></div></div></div></div>
</td> </tr> </table>
</body>
</html>
